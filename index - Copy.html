<!DOCTYPE html>
<html lang="en" class="">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GitHub Pages Tailwind Dark Mode Toggle</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* Custom dark mode colors */
    html.dark body {
      background-color: #111827; /* Tailwind gray-900 */
      color: #f9fafb;            /* Tailwind gray-50 */
    }
    html.dark a {
      color: #60a5fa; /* Tailwind blue-400 */
    }
    body {
      transition: background-color 0.3s ease, color 0.3s ease;
    }
  </style>

  <script>
    // Immediately set theme class on <html> before page loads to prevent flash
    try {
      if (
        localStorage.theme === 'dark' ||
        (!localStorage.theme && window.matchMedia('(prefers-color-scheme: dark)').matches)
      ) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    } catch (e) {
      // In case localStorage or matchMedia is unsupported
      document.documentElement.classList.remove('dark');
    }
  </script>
</head>
<body class="min-h-screen font-sans p-8">

  <header class="max-w-4xl mx-auto flex justify-between items-center mb-8">
    <h1 class="text-4xl font-bold">My GitHub Pages Site</h1>
    <button
      id="toggleTheme"
      class="border border-gray-800 rounded px-4 py-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition"
      aria-label="Toggle Dark Mode"
    >
      Toggle Dark Mode
    </button>
  </header>

  <main class="max-w-4xl mx-auto space-y-6">
    <section>
      <h2 class="text-3xl font-semibold mb-2">Welcome</h2>
      <p class="text-lg leading-relaxed">
        This site uses Tailwind CSS from CDN with a manual dark mode toggle that works on GitHub Pages.
      </p>
    </section>

    <section>
      <h2 class="text-3xl font-semibold mb-2">About</h2>
      <p>
        The background and text colors switch using a simple CSS rule targeting <code>html.dark</code>.
        Tailwind utilities provide layout, spacing, and typography.
      </p>
    </section>

    <section>
      <h2 class="text-3xl font-semibold mb-2">Links</h2>
      <ul class="list-disc list-inside space-y-1">
        <li><a href="https://tailwindcss.com" target="_blank" rel="noreferrer" class="underline">Tailwind CSS</a></li>
        <li><a href="https://pages.github.com" target="_blank" rel="noreferrer" class="underline">GitHub Pages</a></li>
      </ul>
    </section>
  </main>

  <script>
    const btn = document.getElementById('toggleTheme');
    btn.addEventListener('click', () => {
      const html = document.documentElement;
      const isDark = html.classList.toggle('dark');
      try {
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
      } catch {}
    });
  </script>

</body>
</html>
